<div class="chat-container">
  <div *ngFor="let msg of messages(); trackBy: trackByMsg" 
       [ngClass]="{ 'bot': msg.from === 'bot', 'user': msg.from === 'user' }" 
       class="message">

    <div class="bubble">
      <ng-container *ngIf="msg.text.startsWith('typing'); else normalText">
        <div class="typing-indicator">
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>
      </ng-container>
      <ng-template #normalText>{{ msg.text }}</ng-template>
    </div>
  </div>

  <div *ngIf="!finished()" class="buttons">
    <button mat-raised-button color="primary" (click)="onAnswer('Yes')">Yes</button>
    <button mat-raised-button color="accent" (click)="onAnswer('No')">No</button>
  </div>

  <div *ngIf="finished()" class="buttons">
    <button mat-stroked-button color="warn" (click)="reset()">Restart</button>
  </div>
</div>
